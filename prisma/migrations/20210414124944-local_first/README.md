# Migration `20210414124944-local_first`

This migration has been generated by Kouatchoua Mark at 4/14/2021, 1:49:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql

```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210324083202-incremental..20210414124944-local_first
--- datamodel.dml
+++ datamodel.dml
@@ -1,20 +1,21 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
+  // previewFeatures = ["createMany"]
 }
 model User {
   id        String   @id @default(cuid())
   name      String
   email     String
   image     String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
 }
 model Region {
@@ -22,9 +23,9 @@
   regName   String
   regCode   String
   division  Division[]
   createdAt DateTime   @default(now())
-  updatedAt DateTime   @updatedAt @default(now())
+  updatedAt DateTime   @default(now()) @updatedAt
 }
 model Division {
@@ -32,36 +33,36 @@
   divisionName String
   divisionCode String
   subdiv       Subdivision[]
-  Region    Region?  @relation(fields: [regionId], references: [id])
-  regionId  String?
+  Region    Region   @relation(fields: [regionId], references: [id])
+  regionId  String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
 }
 model Subdivision {
   id         String @id @default(cuid())
   subdivName String
   subdivCode String
   town       Town[]
-  Division   Division? @relation(fields: [divisionId], references: [id])
-  divisionId String?
-  createdAt  DateTime  @default(now())
-  updatedAt  DateTime  @updatedAt @default(now())
+  Division   Division @relation(fields: [divisionId], references: [id])
+  divisionId String
+  createdAt  DateTime @default(now())
+  updatedAt  DateTime @default(now()) @updatedAt
 }
 model Town {
   id       String @id @default(cuid())
   townName String
   townCode String
   school        School[]
-  Subdivision   Subdivision? @relation(fields: [subdivisionId], references: [id])
-  subdivisionId String?
-  createdAt     DateTime     @default(now())
-  updatedAt     DateTime     @updatedAt @default(now())
+  Subdivision   Subdivision @relation(fields: [subdivisionId], references: [id])
+  subdivisionId String
+  createdAt     DateTime    @default(now())
+  updatedAt     DateTime    @default(now()) @updatedAt
 }
 model School {
   id           String @id @default(cuid())
@@ -70,12 +71,12 @@
   schoolCode   String
   section Section[]
-  Town      Town?    @relation(fields: [townId], references: [id])
-  townId    String?
+  Town      Town     @relation(fields: [townId], references: [id])
+  townId    String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
 }
 model Section {
   id          String @id @default(cuid())
@@ -83,34 +84,164 @@
   sectionCode String
   department Department[]
-  School    School?  @relation(fields: [schoolId], references: [id])
-  schoolId  String?
+  School    School   @relation(fields: [schoolId], references: [id])
+  schoolId  String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
 }
 model Department {
+  id          String        @id @default(cuid())
+  deptName    String
+  deptCode    String
+  annProfDept AnnProfDept[]
+  subject     Subject[]
+  Section     Section       @relation(fields: [sectionId], references: [id])
+  sectionId   String
+  createdAt   DateTime      @default(now())
+  updatedAt   DateTime      @default(now()) @updatedAt
+}
+
+model Term {
   id        String   @id @default(cuid())
-  deptName  String
-  deptCode  String
-  prof      Prof[]
-  Section   Section? @relation(fields: [sectionId], references: [id])
-  sectionId String?
+  termName  String
+  termCode  String
   createdAt DateTime @default(now())
-  updatedAt DateTime @updatedAt @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
 }
+model Sequence {
+  id        String   @id @default(cuid())
+  seqName   String
+  seqCode   String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @default(now()) @updatedAt
+  Score     Score    @relation(fields: [scoreId], references: [id])
+  scoreId   String
+}
+
+model SchoolYear {
+  id                  String                @id @default(cuid())
+  yearName            String
+  yearCode            String
+  annStudentClassroom AnnStudentClassroom[]
+  annProfDept         AnnProfDept[]
+  createdAt           DateTime              @default(now())
+  updatedAt           DateTime              @default(now()) @updatedAt
+}
+
+model AnnProfDept {
+  id           String              @id @default(cuid())
+  createdAt    DateTime            @default(now())
+  updatedAt    DateTime            @default(now()) @updatedAt
+  annProfSubj  AnnProfSubjDistro[]
+  Department   Department          @relation(fields: [departmentId], references: [id])
+  departmentId String
+  SchoolYear   SchoolYear          @relation(fields: [schoolYearId], references: [id])
+  schoolYearId String
+  Prof         Prof                @relation(fields: [profId], references: [id])
+  profId       String
+}
+
+model Logbook {
+  id                  String            @id @default(cuid())
+  subjectMatter       String
+  timeOfPeriod        DateTime          @default(now())
+  createdAt           DateTime          @default(now())
+  updatedAt           DateTime          @default(now()) @updatedAt
+  AnnProfSubjDistro   AnnProfSubjDistro @relation(fields: [AnnProfSubjDistroId], references: [id])
+  AnnProfSubjDistroId String
+}
+
+model Score {
+  id              String                @id @default(cuid())
+  marks           String
+  seq             Sequence[]
+  annStudentClass AnnStudentClassroom[]
+  annProfSubj     AnnProfSubjDistro[]
+  createdAt       DateTime              @default(now())
+  updatedAt       DateTime              @default(now()) @updatedAt
+}
+
+model AnnProfSubjDistro {
+  id            String      @id @default(cuid())
+  createdAt     DateTime    @default(now())
+  updatedAt     DateTime    @default(now()) @updatedAt
+  AnnProfDept   AnnProfDept @relation(fields: [annProfDeptId], references: [id])
+  annProfDeptId String
+  Subject       Subject     @relation(fields: [subjectId], references: [id])
+  subjectId     String
+  Classroom     Classroom   @relation(fields: [classroomId], references: [id])
+  classroomId   String
+  Score         Score       @relation(fields: [scoreId], references: [id])
+  scoreId       String
+  Logbook       Logbook[]
+}
+
+model Subject {
+  id          String              @id @default(cuid())
+  subjectName String
+  subjectCode String
+  annProfSubj AnnProfSubjDistro[]
+
+  createdAt    DateTime   @default(now())
+  updatedAt    DateTime   @default(now()) @updatedAt
+  Department   Department @relation(fields: [departmentId], references: [id])
+  departmentId String
+}
+
+model Classroom {
+  id                  String                @id @default(cuid())
+  className           String
+  classCode           String
+  annProfSubj         AnnProfSubjDistro[]
+  annStudentClassroom AnnStudentClassroom[]
+  createdAt           DateTime              @default(now())
+  updatedAt           DateTime              @default(now()) @updatedAt
+}
+
+model Student {
+  id                  String                @id @default(cuid())
+  student1stName      String
+  student2ndName      String
+  student3rdName      String
+  sex                 String
+  studentMatricule    String
+  image               String
+  annStudentClassroom AnnStudentClassroom[]
+  createdAt           DateTime              @default(now())
+  updatedAt           DateTime              @default(now()) @updatedAt
+}
+
+model AnnStudentClassroom {
+  id               String     @id @default(cuid())
+  student1stName   String
+  student2ndName   String
+  student3rdName   String
+  sex              String
+  studentMatricule String
+  image            String
+  createdAt        DateTime   @default(now())
+  updatedAt        DateTime   @default(now()) @updatedAt
+  SchoolYear       SchoolYear @relation(fields: [schoolYearId], references: [id])
+  schoolYearId     String
+  Classroom        Classroom  @relation(fields: [classroomId], references: [id])
+  classroomId      String
+  Student          Student    @relation(fields: [studentId], references: [id])
+  studentId        String
+  Score            Score      @relation(fields: [scoreId], references: [id])
+  scoreId          String
+}
+
 model Prof {
-  id            String @id @default(cuid())
+  id            String        @id @default(cuid())
   prof1stName   String
   prof2ndName   String
   prof3rdName   String
   profMatricule String
   specialty     String
-
-  Department   Department? @relation(fields: [departmentId], references: [id])
-  departmentId String?
-  createdAt    DateTime    @default(now())
-  updatedAt    DateTime    @updatedAt @default(now())
+  createdAt     DateTime      @default(now())
+  updatedAt     DateTime      @default(now()) @updatedAt
+  annProfDept   AnnProfDept[]
 }
```


